{% load static %}

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Sign-up Page</title>
	<link rel="stylesheet" href="{% static 'asset/registerstyles.css' %}">
	<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
</head>

<style>
	body{
		background-color: #01240a;
		color: white;
	}
	
  input{
	background-color: transparent;
	border: none;
	border-bottom: 1px solid #1efc5a;
	outline: none;
  }

 input::placeholder{
	color: grey;
 }
</style>

<body>
	<div class="content">
		<div class="flex-div">
			<div class="name-content">
				<h1 class="logo" style="color:#1efc5a; font-family: 'Dancing Script', cursive; font-size: 80px;">Connectify</h1>
				<p>Place to share your Ideas...!<br>Connect with friends and the world around you.</p>
			</div>

			<div class="form" style=" background: rgba(0,0,0,.5);
			box-sizing: border-box;
			box-shadow: 0 15px 25px rgba(0,0,0,.6);
			border-radius: 10px;">

				<div class="titlef" style="color:white">Sign Up</div>

				<form action="{% url 'auth:register' %}" method="post">
					{% csrf_token %}
					<input type="text" placeholder="Username " name="uname" style="border: none;
					border-bottom: 1px solid rgb(91, 176, 114);color:white;
					outline: none;" required/>

					<input type="text" placeholder="First name " name="fname"style="border: none;
					border-bottom: 1px solid rgb(91, 176, 114);color:white;
					outline: none;"  required/>

					<input type="text" placeholder="Last name " name="lname" style="border: none;
					border-bottom: 1px solid rgb(91, 176, 114);color:white;
					outline: none;" required/>

					<input type="email" placeholder="Email " name="email" style="border: none;
					border-bottom: 1px solid rgb(91, 176, 114);color:white;
					outline: none;" required/>

					<input type="text" placeholder="Bio " name="bio"style="border: none;
					border-bottom: 1px solid rgb(91, 176, 114); color: white;
					outline: none;"  required/>

					<input type="password" placeholder="Password " name="pswd"style="border: none;
					border-bottom: 1px solid rgb(91, 176, 114);color:white;
					outline: none;"  required/>

					<input type="password" placeholder="Confirm Password" name="cpswd"style="border: none;
					border-bottom: 1px solid rgb(91, 176, 114);color:white;
					outline: none; "required>

					<button class="login" type="submit"style="background: rgb(170, 227, 178);
					background: linear-gradient(0deg, rgb(170, 227, 178) 0%, rgb(170, 227, 178) 100%);
					border: none; color: black; margin-top: 25px;">Sign Up</button>
					{% for i in messages %}
					<p style="color:red; margin-top: 15px;">{{i}}</p>
					{% endfor %}					
				</form>

				<a href="{% url 'auth:login' %}" class="create-account"style="color: #1efc5a;background-color: transparent;text-decoration: none;text-decoration:underline;">
					Already registered
				</a>

			</div>
		</div>
	</div>

	<script>
		document.querySelector('form').addEventListener('submit', function(e) {
		  const username = document.querySelector('input[name="uname"]').value;
		  const firstName = document.querySelector('input[name="fname"]').value;
		  const lastName = document.querySelector('input[name="lname"]').value;
		  const password = document.querySelector('input[name="pswd"]').value;
		  const confirmPassword = document.querySelector('input[name="cpswd"]').value;
	  
		  // Username validation: only letters and special characters
		  const usernamePattern = /^[a-zA-Z@_!#$%^&*()<>?/\|}{~:;,.]*$/;
		  if (!usernamePattern.test(username)) {
			alert('Username can only contain alphabets and special characters.');
			e.preventDefault();
		  }
	  
		  // First name and Last name validation: only alphabets
		  if (!/^[a-zA-Z]*$/.test(firstName)) {
			alert('First name can only contain alphabets.');
			e.preventDefault();
		  }
		  if (!/^[a-zA-Z]*$/.test(lastName)) {
			alert('Last name can only contain alphabets.');
			e.preventDefault();
		  }
	  
		  // Password length validation
		  if (password.length < 7) {
			alert('Password must be at least 7 characters long.');
			e.preventDefault();
		  }
	  
		  // Password match validation
		  if (password !== confirmPassword) {
			alert('Passwords do not match.');
			e.preventDefault();
		  }
		});
	  </script>
	  

</body>

</html>